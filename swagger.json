{"swagger":"2.0","host":"ncrashed.github.io","info":{"version":"0.1","title":"API servant-auth-token-api","license":{"name":"MIT"},"description":"This is an API for token based authorisation"},"definitions":{"PagedList":{"required":["items","pages"],"type":"object","properties":{"pages":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"items":{"items":{"$ref":"#/definitions/WithField 'id' UserGroup"},"type":"array"}}},"RespUsersInfo":{"required":["items","pages"],"type":"object","properties":{"pages":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"items":{"items":{"$ref":"#/definitions/RespUserInfo"},"type":"array"}}},"PatchUserGroup":{"type":"object","properties":{"parent":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"users":{"items":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"type":"array"},"noParent":{"type":"boolean"},"name":{"type":"string"},"permissions":{"items":{"type":"string"},"type":"array"}}},"WithField 'id' UserGroup":{"required":["id","name","users","permissions"],"type":"object","properties":{"parent":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"users":{"items":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"type":"array"},"name":{"type":"string"},"id":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"permissions":{"items":{"type":"string"},"type":"array"}}},"RespUserInfo":{"required":["id","login","email","permissions","groups"],"type":"object","properties":{"email":{"type":"string"},"groups":{"items":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"type":"array"},"id":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"permissions":{"items":{"type":"string"},"type":"array"},"login":{"type":"string"}}},"UserGroup":{"required":["name","users","permissions"],"type":"object","properties":{"parent":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"users":{"items":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"type":"array"},"name":{"type":"string"},"permissions":{"items":{"type":"string"},"type":"array"}}},"PatchUser":{"type":"object","properties":{"email":{"type":"string"},"groups":{"items":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"type":"array"},"password":{"type":"string"},"permissions":{"items":{"type":"string"},"type":"array"},"login":{"type":"string"}}},"ReqRegister":{"required":["login","password","email","permissions"],"type":"object","properties":{"email":{"type":"string"},"groups":{"items":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"type":"array"},"password":{"type":"string"},"permissions":{"items":{"type":"string"},"type":"array"},"login":{"type":"string"}}}},"paths":{"/auth/touch":{"post":{"responses":{"400":{"description":"Invalid `Authorization` or `expire`"},"204":{"description":""}},"produces":["application/json"],"parameters":[{"maximum":18446744073709551615,"minimum":0,"in":"query","name":"expire","type":"integer"},{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]}},"/auth/restore/{user-id}":{"post":{"responses":{"404":{"description":"`user-id` not found"},"400":{"description":"Invalid `password` or `code`"},"204":{"description":""}},"produces":["application/json"],"parameters":[{"maximum":18446744073709551615,"minimum":0,"required":true,"in":"path","name":"user-id","type":"integer"},{"in":"query","name":"code","type":"string"},{"in":"query","name":"password","type":"string"}],"tags":["Authorisation"]}},"/auth/user/{user-id}":{"patch":{"consumes":["application/json"],"responses":{"404":{"description":"`user-id` not found"},"400":{"description":"Invalid `Authorization` or `body`"},"204":{"description":""}},"produces":["application/json"],"parameters":[{"maximum":18446744073709551615,"minimum":0,"required":true,"in":"path","name":"user-id","type":"integer"},{"required":true,"schema":{"$ref":"#/definitions/PatchUser"},"in":"body","name":"body"},{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]},"get":{"responses":{"404":{"description":"`user-id` not found"},"400":{"description":"Invalid `Authorization`"},"200":{"schema":{"$ref":"#/definitions/RespUserInfo"},"description":""}},"produces":["application/json"],"parameters":[{"maximum":18446744073709551615,"minimum":0,"required":true,"in":"path","name":"user-id","type":"integer"},{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]},"delete":{"responses":{"404":{"description":"`user-id` not found"},"400":{"description":"Invalid `Authorization`"},"204":{"description":""}},"produces":["application/json"],"parameters":[{"maximum":18446744073709551615,"minimum":0,"required":true,"in":"path","name":"user-id","type":"integer"},{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]},"put":{"consumes":["application/json"],"responses":{"404":{"description":"`user-id` not found"},"400":{"description":"Invalid `Authorization` or `body`"},"204":{"description":""}},"produces":["application/json"],"parameters":[{"maximum":18446744073709551615,"minimum":0,"required":true,"in":"path","name":"user-id","type":"integer"},{"required":true,"schema":{"$ref":"#/definitions/ReqRegister"},"in":"body","name":"body"},{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]}},"/auth/signin":{"get":{"responses":{"400":{"description":"Invalid `expire` or `password` or `login`"},"200":{"schema":{"required":["token"],"type":"object","properties":{"token":{"type":"string"}}},"description":""}},"produces":["application/json"],"parameters":[{"in":"query","name":"login","type":"string"},{"in":"query","name":"password","type":"string"},{"maximum":18446744073709551615,"minimum":0,"in":"query","name":"expire","type":"integer"}],"tags":["Authorisation"]}},"/auth/group":{"post":{"consumes":["application/json"],"responses":{"400":{"description":"Invalid `Authorization` or `body`"},"201":{"schema":{"maximum":18446744073709551615,"minimum":0,"type":"integer"},"description":""}},"produces":["application/json"],"parameters":[{"required":true,"schema":{"$ref":"#/definitions/UserGroup"},"in":"body","name":"body"},{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]},"get":{"responses":{"400":{"description":"Invalid `Authorization` or `size` or `page`"},"200":{"schema":{"$ref":"#/definitions/PagedList"},"description":""}},"produces":["application/json"],"parameters":[{"maximum":18446744073709551615,"minimum":0,"in":"query","name":"page","type":"integer"},{"maximum":18446744073709551615,"minimum":0,"in":"query","name":"size","type":"integer"},{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]}},"/auth/users":{"get":{"responses":{"400":{"description":"Invalid `Authorization` or `size` or `page`"},"200":{"schema":{"$ref":"#/definitions/RespUsersInfo"},"description":""}},"produces":["application/json"],"parameters":[{"maximum":18446744073709551615,"minimum":0,"in":"query","name":"page","type":"integer"},{"maximum":18446744073709551615,"minimum":0,"in":"query","name":"size","type":"integer"},{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]}},"/auth/signout":{"post":{"responses":{"400":{"description":"Invalid `Authorization`"},"204":{"description":""}},"produces":["application/json"],"parameters":[{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]}},"/auth/token":{"get":{"responses":{"400":{"description":"Invalid `Authorization`"},"200":{"schema":{"$ref":"#/definitions/RespUserInfo"},"description":""}},"produces":["application/json"],"parameters":[{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]}},"/auth/signup":{"post":{"consumes":["application/json"],"responses":{"400":{"description":"Invalid `Authorization` or `body`"},"201":{"schema":{"required":["user"],"type":"object","properties":{"user":{"maximum":18446744073709551615,"minimum":0,"type":"integer"}}},"description":""}},"produces":["application/json"],"parameters":[{"required":true,"schema":{"$ref":"#/definitions/ReqRegister"},"in":"body","name":"body"},{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]}},"/auth/group/{group-id}":{"patch":{"consumes":["application/json"],"responses":{"404":{"description":"`group-id` not found"},"400":{"description":"Invalid `Authorization` or `body`"},"204":{"description":""}},"produces":["application/json"],"parameters":[{"maximum":18446744073709551615,"minimum":0,"required":true,"in":"path","name":"group-id","type":"integer"},{"required":true,"schema":{"$ref":"#/definitions/PatchUserGroup"},"in":"body","name":"body"},{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]},"get":{"responses":{"404":{"description":"`group-id` not found"},"400":{"description":"Invalid `Authorization`"},"200":{"schema":{"$ref":"#/definitions/UserGroup"},"description":""}},"produces":["application/json"],"parameters":[{"maximum":18446744073709551615,"minimum":0,"required":true,"in":"path","name":"group-id","type":"integer"},{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]},"delete":{"responses":{"404":{"description":"`group-id` not found"},"400":{"description":"Invalid `Authorization`"},"204":{"description":""}},"produces":["application/json"],"parameters":[{"maximum":18446744073709551615,"minimum":0,"required":true,"in":"path","name":"group-id","type":"integer"},{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]},"put":{"consumes":["application/json"],"responses":{"404":{"description":"`group-id` not found"},"400":{"description":"Invalid `Authorization` or `body`"},"204":{"description":""}},"produces":["application/json"],"parameters":[{"maximum":18446744073709551615,"minimum":0,"required":true,"in":"path","name":"group-id","type":"integer"},{"required":true,"schema":{"$ref":"#/definitions/UserGroup"},"in":"body","name":"body"},{"in":"header","name":"Authorization","type":"string"}],"tags":["Authorisation"]}}},"tags":[{"name":"Authorisation","description":"Authorisation operations"}]}